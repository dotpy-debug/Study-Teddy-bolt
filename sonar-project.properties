# SonarQube configuration for Study Teddy

# Project identification
sonar.projectKey=studyteddy
sonar.projectName=Study Teddy
sonar.projectVersion=1.0.0
sonar.projectDescription=AI-powered study planner application

# Source code configuration
sonar.sources=apps/backend/src,apps/frontend/src
sonar.tests=apps/backend/test,apps/frontend/src/test,apps/frontend/e2e

# Language-specific settings
sonar.typescript.node=node
sonar.nodejs.executable=node

# Backend (NestJS) specific settings
sonar.typescript.lcov.reportPaths=apps/backend/coverage/lcov.info
sonar.typescript.tsconfigPath=apps/backend/tsconfig.json

# Frontend (Next.js) specific settings
sonar.typescript.lcov.reportPaths=apps/frontend/coverage/lcov.info
sonar.typescript.tsconfigPath=apps/frontend/tsconfig.json

# Coverage settings
sonar.coverage.exclusions=**/*.test.ts,**/*.spec.ts,**/*.test.tsx,**/*.spec.tsx,**/test/**,**/e2e/**,**/*.config.js,**/*.config.ts,**/node_modules/**,**/dist/**,**/build/**,**/.next/**

# Duplications
sonar.cpd.exclusions=**/*.spec.ts,**/*.test.ts,**/*.spec.tsx,**/*.test.tsx

# Analysis exclusions
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/.next/**,**/coverage/**,**/test-results/**,**/playwright-report/**,**/*.d.ts,**/generated/**,**/public/**

# Quality gate settings
sonar.qualitygate.wait=true

# Issue exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3

# Exclude test files from certain rules
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.spec.ts

# Exclude generated files
sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/generated/**

# Security hotspots exclusions
sonar.security.hotspots.exclude=**/test/**,**/e2e/**,**/*.test.ts,**/*.spec.ts

# Technical debt settings
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.ratingGrid=0.1,0.2,0.5,1